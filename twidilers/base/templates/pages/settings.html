{% extends 'base.html' %}
{% block title %}Settings{% endblock %}
{% block head %}
<link rel="stylesheet" data-turbo-track="dynamic" href="{{ url_for('.static', filename='/styles/settings.css') }}">
<link rel="stylesheet" data-turbo-track="dynamic" href="{{ url_for('.static', filename='/styles/profile.css') }}">
<link rel="stylesheet" data-turbo-track="dynamic" href="{{ url_for('.static', filename='/styles/form.css') }}">
{% endblock %}
{% block content %}
{% set account = findAccount() %}
    <!-- A submenu that shows different settings -->
    <div id="acct-navbar">
        <button class="pf-mnu-btn" id="acct-dtl-btn" onclick="newPage(0)">Profile Settings</button>
        <button class="pf-mnu-btn" id="security-btn" onclick="newPage(1)">Security</button>
        <button class="pf-mnu-btn" id="privacy-btn" onclick="newPage(2)">Privacy</button>

    </div>
    <style>
        .submit {
            margin: 0;
            margin-top:10px;
        }
        h3 {
            margin: 0 0 20px 0;
        }
    </style>        
    <!-- Div with account details -->

    <div id="acct-dtl-content">
        <div class="profile-div" id="auth-info">
            <img src="{{ url_for('.get_pfp',username=account.username) }}" id="pfp">
            <section class="profile-auth">
                <h1 name="prof-username" id="display-name">{{account.displayname}}</h1>
                <h3 name="prof-username" id="prof-usrname">@{{account.username}}</h3>
            </section>
        </div>
        <!--
        <div class="profile-div">
            <form method="post" id="profile-bio-change">
                <h3>Edit bio</h3>
                <input id="bio" name="bio" type="text" class="textbox" autocomplete="off" autocapitalize="off" maxlength="500" placeholder="Write your bio here. Up to 500 characters.">
                <button class="submit" id="bio-change" name="bio-change">Change</button>
            </form>
        </div>
    -->
        <div class="profile-div">
            <form method="post" id="change-name-form">
                <h3>Change display name</h3>
                <input id="change-name" name="change-name" type="text" class="textbox" autocomplete="off" autocapitalize="off" maxlength="24" placeholder="1-24 characters">
                <button class="submit" id="name-change" name="name-change">Change Name</button>
            </form>
        </div>
        <div class="profile-div">
            <h3>Upload profile picture</h3>
            <form method="post" enctype="multipart/form-data" id="upload_pfp">
                <label for="file" class="custom-file-upload">
                    choose picture
                </label>
                <input type="file" id="file" name="file" accept="image/*">
            </form>
        </div>
        <div class="profile-div">
            <a href="{{ url_for('.logout') }}"><button class="submit">Log out</button></a>
        </div>        
    </div>
    <div id="security-content">
        <div class="profile-div">
            <form method="post" id="change-password-change">
                <h3 class="div-heading">Change password</h3>
                <input id="old-password" name="old-password" type="text" class="textbox" autocomplete="off" autocapitalize="off" maxlength="24" placeholder="Current Password">
                <input id="new-password" name="new-password" type="text" class="textbox" autocomplete="off" autocapitalize="off" maxlength="24" placeholder="New Password"><br>
                <button class="submit" id="password-change" name="password-change">Change Password</button>
            </form>
        </div>
        <div class="profile-div">
            <h3 class="div-heading">Change email</h3>
            <input id="new-email" name="new-email" type="email" class="textbox" placeholder="New email">
            <button class="submit" id="email-change" name="email-change">Send confirmation email to old account</button>
        </div>
        <div class="profile-div">
            <form id="delete-account" name="delete-account" method="post">
                <button class="submit" id="delete" name="delete" onclick="checkDelete(event)">Delete Account</button>
            </form> 
        </div>
    </div>
    <div id="privacy-content">
        <div class="profile-div">
            <h3>Profile page visibility</h3>
            <button class="submit">Visable to everyone</button>
        </div>
    </div>
        <script src="{{ url_for('.static', filename='/javascript/settings.js') }}"></script>

           

{% endblock %}