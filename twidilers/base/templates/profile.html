{% extends 'base.html' %}
{% block title %}{{account.displayname}}'s profile{% endblock %}
{% block content %}
<div class="profile-div" id="auth-info">
    <img src="{{ url_for('.get_pfp',username=account.username) }}" id="pfp">
    <section class="profile-auth">
        <h1 name="prof-username" id="display-name">{{account.displayname}}</h1>
        <h3 name="prof-username" id="prof-usrname">@{{account.username}}</h3>
    </section>
</div>
{% if owner == 1 %}
<div class="profile-div">
        <form method="post" id="change-password-change">
            <h3 class="div-heading">Change password</h3>
            <input id="change-password" name="change-password" type="text" class="textbox" autocomplete="off" autocapitalize="off" maxlength="24" placeholder="1-24 characters">
            <button class="submit" id="password-change" name="password-change">Change Password</button>
        </form>
</div>
{% endif %}
<div>
    <h1>Recent Posts:</h1>
    {% for post in posts %}
    <div class="pst">
        <h2 class="pst-title" style="text-decoration:{{post.decorators}}">{{post.title}}</h3>
        <p class="pst-content">{{post.content}}</p>
        <p class="pst-date" id="date{{ loop.index0 }}">date</p>
        <script>
            const date{{ post.id }} = new Date({{ post.date.timestamp()*1000 }})
                document.getElementById("date{{ loop.index0 }}").innerHTML = date{{ post.id }}.toLocaleString();
        </script>
    </div>
    {% endfor %}
</div>


{% endblock %}